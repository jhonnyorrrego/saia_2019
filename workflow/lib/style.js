function Style(){this.font=null;this.strokeStyle=null;this.fillStyle=null;this.globalAlpha=null;this.globalCompositeOperation=null;this.lineWidth=null;this.lineCap=this.STYLE_LINE_CAP_BUTT;this.lineJoin=this.STYLE_LINE_JOIN_MITER;this.shadowOffsetX=null;this.shadowOffsetY=null;this.shadowBlur=null;this.shadowColor=null;this.addColorStop=[];this.linearGradient=[];this.dashLength=0;this.image=null;this.oType="Style"}Style.load=function(b){var a=new Style();a.strokeStyle=b.strokeStyle;a.fillStyle=b.fillStyle;a.globalAlpha=b.globalAlpha;a.globalCompositeOperation=b.globalCompositeOperation;a.lineWidth=b.lineWidth;a.lineCap=b.lineCap;a.lineJoin=b.lineJoin;a.shadowOffsetX=b.shadowOffsetX;a.shadowOffsetY=b.shadowOffsetY;a.shadowBlur=b.shadowBlur;a.shadowColor=b.shadowColor;a.addColorStop=b.addColorStop;a.linearGradient=b.linearGradient;a.dashLength=b.dashLength;a.image=b.image;return a};Style.prototype={STYLE_LINE_JOIN_ROUND:"round",STYLE_LINE_JOIN_BEVEL:"bevel",STYLE_LINE_JOIN_MITER:"miter",STYLE_LINE_CAP_BUTT:"butt",STYLE_LINE_CAP_ROUND:"round",STYLE_LINE_CAP_SQUARE:"square",setupContext:function(c){for(var a in this){if(a!="linearGradient"&&a!="addColorStop"&&a!="image"){if(this[a]!=null&&a!=undefined){c[a]=this[a]}}}if(this.linearGradient.length!=0&&image==null){var d=c.createLinearGradient(this.linearGradient[0],this.linearGradient[1],this.linearGradient[2],this.linearGradient[3]);for(var b=0;b<this.addColorStop.length;b++){d.addColorStop(b,this.addColorStop[b])}c.fillStyle=d;this.fillStyle=d}if(this.image!=null&&IE){var e=c.createPattern(this.image,"no-repeat")}},clone:function(){var c=new Style;for(var a in c){if(a!="addColorStop"&&a!="linearGradient"){c[a]=this[a]}else{for(var b=0;b<this[a].length;b++){c[a].push(this[a][b])}}}return c},toJSON:function(){var b=this.clone();for(var a in b){if(b[a]==null){delete b[a]}}return b},getGradient:function(){return this.addColorStop[0]+"/"+this.addColorStop[1]},setGradient:function(a,b){this.addColorStop[0]=b.split("/")[0];this.addColorStop[1]=b.split("/")[1]},merge:function(b){for(var a in b){if((this[a]==null||this[a]==undefined)&&a!="image"){this[a]=b[a]}}},transform:function(a){if(this.linearGradient.length!=0){var c=new Point(this.linearGradient[0],this.linearGradient[1]);var b=new Point(this.linearGradient[2],this.linearGradient[3]);c.transform(a);b.transform(a);this.linearGradient[0]=c.x;this.linearGradient[1]=c.y;this.linearGradient[2]=b.x;this.linearGradient[3]=b.y}if(this.image){var c=new Point(0,0);var b=new Point(this.image.width,this.image.height);c.transform(a);b.transform(a);this.image.width=b.x-c.x;this.image.height=b.y-c.y}},equals:function(a){if(!a instanceof Style){return false}return true},toSVG:function(){var a=' style="';a+="stroke:"+((this.strokeStyle==null||this.strokeStyle=="")?"none":this.strokeStyle)+";";a+="fill:"+((this.fillStyle==null||this.fillStyle=="")?"none":this.fillStyle)+";";a+="stroke-width:"+((this.lineWidth==null||this.lineWidth=="")?"none":this.lineWidth)+";";a+="stroke-linecap:"+((this.lineCap==null||this.lineCap=="")?"inherit":this.lineCap)+";";a+="stroke-linejoin:"+((this.lineJoin==null||this.lineJoin=="")?"inherit":this.lineJoin)+";";a+='" ';return a}};